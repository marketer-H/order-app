#커피 주문 앱

##1. 프로젝트 개요

###1.1 프로젝트명
커피 주문 앱

###1.2 프로젝트 목적
사용자가 커피 메뉴를 주문하고, 관리자가 주문을 관리할 수 있는 간단한 풀스택 웹 앱

###1.3 개발 범위
- 주문하기 화면(메뉴 선택 및 장바구니 기능)
- 관리자 화면(재고 관리 및 주문 상태 관리)
- 데이터를 생성/조회/수정/삭제할 수 있는 기능

##2. 기술 스택
- 프런트엔드: HTML, CSS, 리액트, 자바스크립트
- 백엔드: Node.js, Express
- 데이터베이스: PostgreSQL

##3. 기본 사항
- 프런트엔드와 백엔드를 따로 개발
- 기본적인 웹 기술만 사용
- 학습 목적이므로 사용자 인증이나 결제 기능은 제외
- 메뉴는 커피 메뉴만 있음

---

##4. 주문하기 화면 상세

###4.1 화면 개요

####4.1.1 화면명
주문하기 화면 (Order Screen)

####4.1.2 화면 목적
사용자가 커피 메뉴를 탐색하고 선택하여 장바구니에 담고 주문할 수 있는 화면

####4.1.3 화면 구성
- 헤더 영역 (고정)
- 상품 목록 영역 (스크롤 가능)
- 장바구니 영역 (하단 고정)

---

###4.2 UI 구조 상세

####4.2.1 헤더 영역

**구성 요소:**
- **브랜드 로고**: 좌측 상단에 "COZY" 텍스트 표시
  - 형태: 직사각형 테두리로 감싸진 텍스트
  - 스타일: 어두운 초록색 테두리

- **네비게이션 탭**: 우측 상단에 두 개의 탭
  - **주문하기 탭**: 현재 화면 (활성 상태)
  - **관리자 탭**: 클릭 시 관리자 화면으로 이동

**기능:**
- 관리자 탭 클릭 시 관리자 화면으로 이동
- 주문하기 탭은 현재 화면이므로 활성 상태로 표시

####4.2.2 상품 목록 영역

**각 상품 카드 구성 요소:**

1. **상품 이미지**
   - 형태: 직사각형 이미지 영역
   - 대체 텍스트: "이미지" 또는 교차 표시

2. **상품명**
   - 형태: 텍스트
   - 예시: "아메리카노(ICE)", "아메리카노(HOT)", "카페라떼"

3. **가격**
   - 형태: 텍스트
   - 형식: "X,XXX원"
   - 예시: "4,000원", "5,000원"

4. **설명**
   - 형태: 텍스트
   - 예시: "간단한 설명..."

5. **옵션 체크박스**
   - **샷 추가**: 기본 체크 해제, 선택 시 +500원
     - 라벨: "샷 추가 (+500원)"
   - **시럽 추가**: 기본 체크 해제, 선택 시 +0원
     - 라벨: "시럽 추가 (+0원)"

6. **담기 버튼**
   - 형태: 버튼
   - 라벨: "담기"
   - 기능: 선택한 옵션과 함께 상품을 장바구니에 추가

**레이아웃:**
- 상품 카드들은 가로로 나열
- 반응형: 화면 크기에 따라 카드 개수 조정

**기능:**
- 옵션 선택: 체크박스를 통해 추가 옵션 선택 (샷 추가, 시럽 추가)
- 담기 버튼 클릭 시 선택한 옵션과 함께 상품이 장바구니에 추가됨

####4.2.3 장바구니 영역

**위치 및 형태:**
- 화면 하단에 고정
- 배경색: 연한 회색
- 직사각형 박스 형태로 표시

**구성 요소:**

1. **장바구니 타이틀**
   - 위치: 장바구니 영역 좌측 상단
   - 텍스트: "장바구니"

2. **담은 상품 목록**
   - 각 상품은 다음과 같은 형식으로 표시:
     - 상품명 (옵션명) X 수량
     - 가격: X,XXX원
   - 예시:
     - "아메리카노(ICE) (샷 추가) X 1"
       - 가격: "4,500원" (기본 4,000원 + 옵션 500원)
     - "아메리카노(HOT) X 2"
       - 가격: "8,000원" (4,000원 × 2)

3. **총 금액**
   - 위치: 장바구니 영역 우측
   - 형식: "총 금액 X,XXX원"
   - 금액은 굵게 표시
   - 예시: "총 금액 12,500원" (굵게)

4. **주문하기 버튼**
   - 위치: 총 금액 아래
   - 라벨: "주문하기"
   - 기능: 주문 실행

**기능:**
- 자동 가격 계산: 담은 상품들의 가격을 자동으로 합산하여 총 금액 표시
- 옵션별 가격 반영: 선택한 옵션에 따른 추가 금액이 개별 상품 가격에 반영됨
- 수량 표시: 같은 상품은 수량으로 통합하여 표시 (예: "X 2")

---

###4.3 사용자 플로우

####4.3.1 기본 주문 플로우
1. 사용자가 주문하기 화면에 진입
2. 상품 목록에서 원하는 메뉴 확인
3. (선택) 옵션 체크박스로 추가 옵션 선택
4. "담기" 버튼 클릭하여 장바구니에 추가
5. 장바구니에서 추가된 상품 확인 및 총 금액 확인
6. "주문하기" 버튼 클릭하여 주문 완료

####4.3.2 플로우 예시
```
사용자 행동 → 결과
1. 아메리카노(ICE) 카드에서 "샷 추가" 선택 → 추가 옵션 선택됨
2. "담기" 버튼 클릭 → 장바구니에 "아메리카노(ICE) (샷 추가) X 1" 추가, 총 금액 업데이트
3. 아메리카노(HOT) 카드에서 "담기" 버튼 클릭 (옵션 없음) → 장바구니에 "아메리카노(HOT) X 1" 추가
4. 아메리카노(HOT) 카드에서 다시 "담기" 버튼 클릭 → 장바구니에 "아메리카노(HOT) X 2"로 수량 증가
5. "주문하기" 버튼 클릭 → 주문 완료
```

---

###4.4 기능 요구사항

####4.4.1 상품 관리
- 상품 정보는 백엔드 API를 통해 불러옴
- 상품 정보에는 상품명, 가격, 설명, 이미지 URL이 포함됨

####4.4.2 옵션 관리
- 각 상품마다 추가 옵션을 선택할 수 있음
- 옵션별 추가 금액이 적용됨
- 옵션 정보는 백엔드에서 관리

####4.4.3 장바구니 관리
- 장바구니에 상품 추가 시 선택한 옵션 정보도 함께 저장
- 같은 상품 + 같은 옵션 조합이면 수량을 증가시킴
- 장바구니의 총 금액은 실시간으로 계산되어 표시

####4.4.4 주문 처리
- 주문하기 버튼 클릭 시 장바구니의 모든 상품 정보를 백엔드로 전송
- 주문 완료 후 장바구니 초기화
- 주문 완료 확인 메시지 표시 (선택사항)

---

###4.5 데이터 구조

####4.5.1 상품 데이터
```javascript
{
  id: Number,          // 상품 ID
  name: String,        // 상품명 (예: "아메리카노(ICE)")
  price: Number,       // 기본 가격 (예: 4000)
  description: String, // 상품 설명
  imageUrl: String,    // 이미지 URL
  options: [           // 옵션 목록
    {
      id: Number,      // 옵션 ID
      name: String,    // 옵션명 (예: "샷 추가")
      price: Number    // 추가 금액 (예: 500)
    }
  ]
}
```

####4.5.2 장바구니 아이템
```javascript
{
  productId: Number,   // 상품 ID
  productName: String, // 상품명
  basePrice: Number,   // 기본 가격
  selectedOptions: [   // 선택한 옵션 목록
    {
      optionId: Number,
      optionName: String,
      optionPrice: Number
    }
  ],
  quantity: Number,    // 수량
  totalPrice: Number   // 총 가격 (기본가격 + 옵션가격) × 수량
}
```

####4.5.3 주문 데이터 (주문하기 버튼 클릭 시 전송)
```javascript
{
  items: [             // 주문 상품 목록
    {
      productId: Number,
      selectedOptions: [{ optionId: Number }],
      quantity: Number
    }
  ],
  totalAmount: Number  // 총 주문 금액
}
```

---

###4.6 기술적 고려사항

####4.6.1 프런트엔드
- React 컴포넌트로 구조화
- 장바구니 상태 관리를 위한 상태 관리 (Context API 또는 Redux)
- 반응형 디자인 적용
- 상품 목록 무한 스크롤 또는 페이지네이션 (선택사항)

####4.6.2 백엔드 연동
- 상품 목록 조회 API: `GET /api/products`
- 주문 생성 API: `POST /api/orders`
- 옵션 정보는 상품 데이터에 포함되어 제공

####4.6.3 사용자 경험
- 버튼 클릭 시 피드백 제공 (로딩 상태, 애니메이션 등)
- 장바구니에 상품 추가 시 시각적 피드백 제공
- 주문 완료 시 명확한 성공 메시지 표시

---

###4.7 개발 우선순위

####Phase 1 (MVP)
- 헤더 영역 구현
- 기본 상품 카드 표시 (이미지 제외 가능)
- 장바구니 추가 기능
- 장바구니 목록 표시
- 총 금액 계산
- 주문하기 버튼 기능

####Phase 2
- 옵션 선택 기능
- 이미지 표시
- 상품 설명 표시
- 수량 조절 기능 (증가/감소 버튼)
- 장바구니 아이템 삭제 기능

####Phase 3 (선택사항)
- 주문 완료 확인 모달
- 장바구니 아이템 수량 변경 기능
- 상품 검색 기능
- 카테고리별 필터링

---

##5. 관리자 화면 상세

###5.1 화면 개요

####5.1.1 화면명
관리자 화면 (Admin Screen)

####5.1.2 화면 목적
관리자가 주문 현황을 관리하고 제품 재고를 조절하며 주문 상태를 처리할 수 있는 화면

####5.1.3 화면 구성
- 헤더 영역 (고정)
- 관리자 대시보드 영역
- 재고 현황 영역
- 주문 현황 영역

---

###5.2 UI 구조 상세

####5.2.1 헤더 영역

**구성 요소:**
- **브랜드 로고**: 좌측 상단에 "COZY" 텍스트 표시
  - 형태: 직사각형 테두리로 감싸진 텍스트
  - 스타일: 어두운 초록색 테두리

- **네비게이션 탭**: 우측 상단에 두 개의 탭
  - **주문하기 탭**: 클릭 시 주문하기 화면으로 이동
  - **관리자 탭**: 현재 화면 (활성 상태, 어두운 테두리로 강조)

**기능:**
- 주문하기 탭 클릭 시 주문하기 화면으로 이동
- 관리자 탭은 현재 화면이므로 활성 상태로 표시

####5.2.2 관리자 대시보드 영역

**위치 및 형태:**
- 헤더 바로 아래 위치
- 직사각형 박스 형태, 연한 회색 테두리

**구성 요소:**
1. **타이틀**
   - 텍스트: "관리자 대시보드"
   - 위치: 영역 좌측 상단

2. **주문 통계 요약**
   - 위치: 타이틀 아래
   - 형식: "총 주문 X / 주문 접수 X / 제조 중 X / 제조 완료 X"
   - 예시: "총 주문 1 / 주문 접수 1 / 제조 중 0 / 제조 완료 0"
   - 숫자는 실시간으로 업데이트됨

**기능:**
- 전체 주문 현황을 한눈에 파악할 수 있는 요약 정보 제공
- 각 상태별 주문 수를 자동으로 집계하여 표시

**주문 상태:**
- **총 주문**: 전체 주문 건수
- **주문 접수**: 접수된 주문 건수 (관리자가 "주문 접수" 버튼 클릭한 주문)
- **제조 중**: 현재 제조 중인 주문 건수
- **제조 완료**: 제조가 완료된 주문 건수

####5.2.3 재고 현황 영역

**위치 및 형태:**
- 관리자 대시보드 아래 위치
- 직사각형 박스 형태, 연한 회색 테두리

**구성 요소:**
1. **타이틀**
   - 텍스트: "재고 현황"
   - 위치: 영역 좌측 상단

2. **재고 카드들**
   - 각 메뉴 아이템별로 카드를 생성
   - 카드들은 가로로 배치
   - 각 카드는 연한 회색 테두리로 구분

**각 재고 카드 구성:**
1. **메뉴명**
   - 형태: 텍스트
   - 예시: "아메리카노 (ICE)", "아메리카노 (HOT)", "카페라떼"

2. **재고 수량**
   - 형태: 텍스트
   - 형식: "X개"
   - 예시: "10개"

3. **재고 조절 버튼**
   - **+ 버튼**: 재고 증가
   - **- 버튼**: 재고 감소
   - 두 버튼은 같은 줄에 나란히 배치

**기능:**
- 재고 수량을 실시간으로 표시
- +/- 버튼으로 재고를 수동으로 조절 가능
- 재고 변경 시 즉시 반영

####5.2.4 주문 현황 영역

**위치 및 형태:**
- 화면 최하단 위치
- 직사각형 박스 형태, 연한 회색 테두리
- 가장 큰 영역

**구성 요소:**
1. **타이틀**
   - 텍스트: "주문 현황"
   - 위치: 영역 좌측 상단

2. **주문 항목들**
   - 각 주문은 하나의 행(row)으로 표시
   - 여러 주문이 있으면 리스트 형태로 나열

**각 주문 항목 구성:**
1. **주문 일시**
   - 형태: 텍스트
   - 형식: "X월 X일 XX:XX"
   - 예시: "7월 31일 13:00"

2. **주문 상품 정보**
   - 형태: 텍스트
   - 형식: "상품명 X 수량"
   - 예시: "아메리카노(ICE) x 1"

3. **주문 금액**
   - 형태: 텍스트
   - 형식: "X,XXX원"
   - 예시: "4,000원"

4. **주문 접수 버튼**
   - 형태: 버튼
   - 라벨: "주문 접수"
   - 테두리: 연한 회색
   - 위치: 각 주문 항목의 오른쪽 끝

**기능:**
- 새로운 주문이 들어오면 주문 현황에 추가됨
- 관리자가 "주문 접수" 버튼을 클릭하면 해당 주문이 "주문 접수" 상태로 변경
- 주문 접수된 주문은 대시보드의 "주문 접수" 수에 반영됨

---

###5.3 사용자 플로우

####5.3.1 기본 관리 플로우
1. 관리자가 관리자 화면에 진입
2. 관리자 대시보드에서 전체 주문 현황 확인
3. 주문 현황에서 새로운 주문 확인
4. 재고 현황에서 현재 재고 상태 확인 및 필요시 재고 조절
5. 주문 처리:
   - "주문 접수" 버튼 클릭 → 주문 접수 상태로 변경
   - (추가 단계) 제조 진행 → 제조 중 상태로 변경
   - (추가 단계) 제조 완료 → 제조 완료 상태로 변경

####5.3.2 플로우 예시
```
관리자 행동 → 결과
1. 관리자 화면 진입 → 대시보드에서 총 주문 1건 확인
2. 재고 현황에서 카페라떼 재고 확인 → "10개" 표시
3. "-" 버튼 클릭 → "9개"로 감소
4. 주문 현황에서 "아메리카노(ICE) x 1" 주문 확인
5. "주문 접수" 버튼 클릭 → 주문이 "주문 접수" 상태로 변경
   → 대시보드의 "주문 접수" 수가 1로 업데이트
```

---

###5.4 기능 요구사항

####5.4.1 주문 관리
- 주문 현황은 백엔드 API를 통해 실시간으로 불러옴
- 새로운 주문이 들어오면 자동으로 주문 현황에 추가됨
- 주문 상태는 "대기 중" → "주문 접수" → "제조 중" → "제조 완료" 순서로 변경
- 각 상태는 관리자의 액션에 따라 변경됨

####5.4.2 대시보드 통계
- 각 주문 상태별 건수를 실시간으로 집계
- 통계는 서버에서 계산하여 제공
- 대시보드 통계는 최신 상태를 유지해야 함 (폴링 또는 웹소켓)

####5.4.3 재고 관리
- 현재 재고 수량을 백엔드에서 불러와 표시
- +/- 버튼으로 재고를 조절하면 백엔드로 저장
- 재고 변경 시 서버에 POST 요청 전송
- 재고가 0 이하로 내려가지 않도록 유효성 검사 (선택사항)

####5.4.4 주문 상태 업데이트
- "주문 접수" 버튼 클릭 시 해당 주문의 상태를 "주문 접수"로 변경
- 상태 변경은 백엔드 API를 통해 처리
- 상태 변경 후 화면을 자동으로 업데이트

---

###5.5 데이터 구조

####5.5.1 대시보드 통계 데이터
```javascript
{
  totalOrders: Number,      // 총 주문 건수
  receivedOrders: Number,   // 주문 접수 건수
  manufacturingOrders: Number, // 제조 중 건수
  completedOrders: Number   // 제조 완료 건수
}
```

####5.5.2 재고 데이터
```javascript
{
  id: Number,              // 상품 ID
  name: String,            // 상품명
  stock: Number            // 재고 수량
}
```

####5.5.3 주문 항목
```javascript
{
  id: Number,              // 주문 ID
  orderDate: String,       // 주문 일시 (예: "7월 31일 13:00")
  items: [                 // 주문 상품 목록
    {
      productName: String, // 상품명
      quantity: Number     // 수량
    }
  ],
  totalAmount: Number,     // 총 금액
  status: String           // 주문 상태 ("대기 중", "주문 접수", "제조 중", "제조 완료")
}
```

####5.5.4 주문 상태 업데이트 요청
```javascript
{
  orderId: Number,         // 주문 ID
  newStatus: String        // 새로운 상태
}
```

####5.5.5 재고 업데이트 요청
```javascript
{
  productId: Number,       // 상품 ID
  stockChange: Number      // 재고 변화량 (+1 또는 -1)
}
```

---

###5.6 기술적 고려사항

####5.6.1 프런트엔드
- React 컴포넌트로 구조화
- 주문 상태 관리 및 재고 상태 관리를 위한 상태 관리
- 실시간 업데이트를 위한 폴링 또는 웹소켓 연결
- 버튼 클릭 시 즉각적인 피드백 제공

####5.6.2 백엔드 연동
- 대시보드 통계 조회 API: `GET /api/admin/dashboard`
- 재고 조회 API: `GET /api/admin/inventory`
- 재고 업데이트 API: `PATCH /api/admin/inventory/:id`
- 주문 현황 조회 API: `GET /api/admin/orders`
- 주문 상태 업데이트 API: `PATCH /api/admin/orders/:id/status`

####5.6.3 실시간 업데이트
- 새로운 주문이 들어오면 주문 현황에 자동 추가
- 주문 상태 변경 시 실시간으로 반영
- 대시보드 통계도 자동으로 업데이트
- 폴링(5-10초 간격) 또는 웹소켓 사용 (권장)

####5.6.4 사용자 경험
- 주문 상태 변경 시 시각적 피드백 제공
- 재고 변경 시 입력 유효성 검사
- 로딩 상태 표시
- 에러 처리 및 피드백

---

###5.7 개발 우선순위

####Phase 1 (MVP)
- 헤더 영역 구현
- 관리자 대시보드 기본 통계 표시
- 재고 현황 표시 (읽기 전용)
- 주문 현황 목록 표시
- 주문 접수 버튼 기능

####Phase 2
- 재고 조절 기능 (+, - 버튼)
- 주문 상태 관리 기능
- 실시간 업데이트 (폴링)
- 대시보드 통계 자동 업데이트

####Phase 3 (선택사항)
- 웹소켓으로 실시간 업데이트
- 주문 상세 정보 모달
- 주문 필터링 기능 (상태별, 날짜별)
- 재고 히스토리 로그
- 주문 완료 처리 기능
- 주문 취소 기능
